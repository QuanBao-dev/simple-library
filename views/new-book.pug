extends books/new.pug
include includes/header.pug
block header
  +nav("new-book")
block title
  label Title
  input(type="text" name="title" value= book.title)

block author
  label Author
  select(name="author")
    each author in authors
      if book.author 
        if author.id === book.author.id
          option(selected value= author.id)= author.name
        else
          option(value= author.id)= author.name
      else
        option(value= author.id)= author.name

block publish_date
  label Publish Date 
  input(type="date" name="publishDate" value= !book.publishDate ? "": book.publishDate.toISOString().slice(0,10))

block page_count
  label Page Count
  input(type="number" name="pageCount" value= book.pageCount min="1")

block cover
  label Cover
  input.book-cover(type="file" name="cover" class="filepond")

block description
  label Description
  textarea(name="description")= book.description

block error_handle
  include includes/errorHandling.pug